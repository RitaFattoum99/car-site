<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Car Details</title>
    <link
      rel="shortcut icon"
      href="../images/car-side-solid.svg"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <link rel="stylesheet" href="../css/pages/car-details.css" />
    <script src="../js/car-details.js"></script>
  </head>
  <body
    style="
      height: 100vh;
      display: grid;
      align-items: center;
      grid-template-rows: auto 1fr auto;
    "
  >
    <div id="headerContainer"></div>
    <script src="/js/header.js"></script>

    <main style="text-align: center" class="flex">
      <img id="car-image" src="" alt="Car Image" />
      <div class="car-details">
        <div style="justify-content: space-between" class="flex">
          <h2 id="car-title">Car Name</h2>
          <p id="car-price" class="price">$14.99</p>
        </div>

        <p id="car-description" class="description">
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Illum minima
          praesentium similique aspernatur animi aliquam ut, aut a nihil velit
          numquam consectetur voluptate, voluptates laboriosam? Excepturi velit
          facilis quis id.
        </p>

        <button class="reserve flex" onclick="window.history.back()">
          <i class="fa-solid fa-circle-check"></i>
          Reserve
        </button>
      </div>
    </main>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const carIndex = urlParams.get("index");

      if (carIndex !== null) {
        const cars = JSON.parse(localStorage.getItem("cars"));
        const car = cars[carIndex];

        if (car) {
          document.getElementById("car-title").innerText = car.title;
          document.getElementById("car-image").src = car.image;
          document.getElementById("car-image").alt = car.title;
          document.getElementById("car-description").innerText =
            car.description;
          document.getElementById(
            "car-price"
          ).innerText = `Price: ${car.price}`;
        } else {
          document.body.innerHTML = "<h1>Car not found!</h1>";
        }
      } else {
        document.body.innerHTML = "<h1>Invalid car selection!</h1>";
      }
    </script>
    <footer>
      Designed and Developed by
      <span>Rita Fattoum</span>
      2025
    </footer>
  </body>
</html>
